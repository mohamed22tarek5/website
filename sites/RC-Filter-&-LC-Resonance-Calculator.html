<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RC Filter & LC Resonance Calculator</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #4e9eff;
            --primary-dark: #3a6cf4;
            --primary-light: #6ab1ff;
            --secondary-color: #9b59b6;
            --background-dark: #121212;
            --background-darker: #0a0a0a;
            --background-secondary: #1a1a1a;
            --card-dark: #1e1e1e;
            --card-light: #252525;
            --text-light: #ffffff;
            --text-muted: #aaaaaa;
            --success-color: #4caf50;
            --error-color: #f44336;
            --warning-color: #ff9800;
            --transition-speed: 0.3s;
            --border-radius: 12px;
            --box-shadow: 0 8px 30px rgba(0, 0, 0, 0.3);
            --box-shadow-hover: 0 15px 40px rgba(0, 0, 0, 0.4);
        }

        /* Light mode variables */
        [data-theme="light"] {
            --background-dark: #f5f7fa;
            --background-darker: #e8ebf0;
            --background-secondary: #ffffff;
            --card-dark: #ffffff;
            --card-light: #f9f9f9;
            --text-light: #333333;
            --text-muted: #666666;
            --box-shadow: 0 8px 30px rgba(0, 0, 0, 0.1);
            --box-shadow-hover: 0 15px 40px rgba(0, 0, 0, 0.15);
        }

        * {
            padding: 0;
            margin: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--background-dark);
            color: var(--text-light);
            line-height: 1.6;
            transition: background-color var(--transition-speed) ease;
            padding: 20px;
            min-height: 100vh;
        }

        .calculator-container {
            max-width: 1000px;
            margin: 0 auto;
        }

        .page-header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            border-radius: var(--border-radius);
            color: white;
            box-shadow: var(--box-shadow);
        }

        .page-header h1 {
            color: white;
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .page-header p {
            color: rgba(255, 255, 255, 0.8);
            font-size: 1.1rem;
        }

        /* Tab styles */
        .main-tabs {
            display: flex;
            overflow: hidden;
            border: 1px solid var(--background-secondary);
            background-color: var(--card-light);
            border-radius: var(--border-radius) var(--border-radius) 0 0;
            margin-bottom: 0;
        }
        
        .main-tab-button {
            background-color: inherit;
            flex: 1;
            border: none;
            outline: none;
            cursor: pointer;
            padding: 14px 16px;
            transition: 0.3s;
            color: var(--text-light);
            font-weight: bold;
            position: relative;
            overflow: hidden;
        }
        
        .main-tab-button:hover {
            background-color: var(--background-secondary);
        }
        
        .main-tab-button.active {
            background-color: var(--primary-color);
            color: white;
        }
        
        .main-tab-button.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background-color: white;
        }
        
        .main-tabcontent {
            display: none;
            padding: 30px;
            border: 1px solid var(--background-secondary);
            border-top: none;
            border-radius: 0 0 var(--border-radius) var(--border-radius);
            background-color: var(--card-dark);
            box-shadow: var(--box-shadow);
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .calculator {
            border: 1px solid var(--background-secondary);
            padding: 25px;
            border-radius: var(--border-radius);
            margin-bottom: 20px;
            background-color: var(--card-light);
            box-shadow: var(--box-shadow);
            transition: all var(--transition-speed) ease;
        }

        .calculator:hover {
            box-shadow: var(--box-shadow-hover);
        }

        .input-group {
            margin-bottom: 20px;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            color: var(--text-light);
            font-weight: 500;
        }

        .input-field {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid var(--background-secondary);
            border-radius: var(--border-radius);
            background-color: var(--background-secondary);
            color: var(--text-light);
            font-family: inherit;
            font-size: 1em;
            transition: all var(--transition-speed) ease;
        }

        .input-field:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(78, 158, 255, 0.2);
        }

        .input-field.error {
            border-color: var(--error-color);
            box-shadow: 0 0 0 3px rgba(244, 67, 54, 0.2);
        }

        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 12px 20px;
            border-radius: 50px;
            font-weight: 600;
            font-size: 0.9em;
            transition: all var(--transition-speed) ease;
            cursor: pointer;
            border: none;
            outline: none;
            width: 100%;
            margin-bottom: 10px;
        }

        .btn-primary {
            background-color: var(--primary-color);
            color: white;
            box-shadow: 0 5px 15px rgba(78, 158, 255, 0.4);
        }

        .btn-primary:hover {
            background-color: var(--primary-dark);
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(78, 158, 255, 0.6);
        }

        .btn-success {
            background-color: var(--success-color);
            color: white;
            box-shadow: 0 5px 15px rgba(76, 175, 80, 0.4);
        }

        .btn-success:hover {
            background-color: #45a049;
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(76, 175, 80, 0.6);
        }

        .btn-warning {
            background-color: var(--warning-color);
            color: white;
            box-shadow: 0 5px 15px rgba(255, 152, 0, 0.4);
        }

        .btn-warning:hover {
            background-color: #f57c00;
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(255, 152, 0, 0.6);
        }

        .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .result-box {
            padding: 20px;
            border-radius: var(--border-radius);
            border-left: 4px solid var(--primary-color);
            transition: all var(--transition-speed) ease;
            background-color: rgba(78, 158, 255, 0.1);
        }

        .result-box:hover {
            transform: translateY(-3px);
            box-shadow: var(--box-shadow-hover);
        }

        .result-box.success {
            border-left-color: var(--success-color);
            background-color: rgba(76, 175, 80, 0.1);
        }

        .result-box.warning {
            border-left-color: var(--warning-color);
            background-color: rgba(255, 152, 0, 0.1);
        }

        .result-box.error {
            border-left-color: var(--error-color);
            background-color: rgba(244, 67, 54, 0.1);
        }

        .result-label {
            font-size: 0.9em;
            color: var(--text-muted);
            margin-bottom: 5px;
        }

        .result-value {
            font-size: 1.5em;
            font-weight: bold;
            color: var(--text-light);
        }

        .info-box {
            margin-top: 20px;
            padding: 20px;
            background: rgba(241, 196, 15, 0.1);
            border-radius: var(--border-radius);
            border-left: 4px solid #f1c40f;
            color: var(--text-light);
            box-shadow: var(--box-shadow);
        }

        .info-box h3 {
            color: #f1c40f;
            margin-bottom: 10px;
        }

        .info-box ul {
            padding-left: 20px;
        }

        .info-box li {
            margin-bottom: 5px;
        }

        /* Dark Mode Toggle */
        .theme-toggle {
            position: fixed;
            bottom: 30px;
            left: 30px;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background-color: var(--card-dark);
            color: var(--primary-color);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2em;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            cursor: pointer;
            transition: all var(--transition-speed) ease;
            z-index: 999;
        }

        .theme-toggle:hover {
            transform: scale(1.1);
        }

        /* Toast notification */
        .toast {
            position: fixed;
            bottom: 100px;
            right: 30px;
            padding: 15px 25px;
            background-color: var(--success-color);
            color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            z-index: 1000;
            transform: translateX(150%);
            transition: transform 0.3s ease;
        }

        .toast.show {
            transform: translateX(0);
        }

        .toast.error {
            background-color: var(--error-color);
        }

        /* Footer */
        footer {
            background-color: var(--card-dark);
            color: var(--text-light);
            text-align: center;
            padding: 30px;
            margin-top: 30px;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
        }

        .social-footer {
            display: flex;
            justify-content: center;
            margin: 20px 0;
        }

        .social-footer a {
            color: var(--text-light);
            font-size: 1.5em;
            margin: 0 15px;
            transition: all var(--transition-speed) ease;
            display: inline-block;
        }

        .social-footer a:hover {
            color: var(--primary-color);
            transform: translateY(-5px);
        }

        .footer-bottom {
            margin-top: 20px;
            font-size: 0.9em;
            opacity: 0.8;
        }

        /* Circuit diagrams */
        .circuit-diagram {
            text-align: center;
            margin: 20px 0;
            padding: 20px;
            background: var(--background-secondary);
            border-radius: var(--border-radius);
        }

        .circuit-svg {
            max-width: 300px;
            margin: 0 auto;
        }

        .circuit-label {
            margin-top: 10px;
            font-weight: bold;
            color: var(--primary-color);
        }

        /* Filter type selector */
        .filter-type {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .filter-btn {
            flex: 1;
            padding: 12px;
            background: var(--background-secondary);
            border: 1px solid var(--border);
            border-radius: var(--border-radius);
            color: var(--text-light);
            cursor: pointer;
            transition: all var(--transition-speed) ease;
            text-align: center;
        }

        .filter-btn:hover {
            background: var(--primary-light);
        }

        .filter-btn.active {
            background: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }

        /* Frequency response visualization */
        .response-graph {
            height: 200px;
            background: var(--background-secondary);
            border-radius: var(--border-radius);
            margin: 20px 0;
            position: relative;
            overflow: hidden;
        }

        .graph-line {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 100%;
            stroke: var(--primary-color);
            stroke-width: 2;
            fill: none;
        }

        .cutoff-line {
            position: absolute;
            top: 0;
            bottom: 0;
            width: 2px;
            background: var(--warning-color);
            transform: translateX(50%);
        }

        .cutoff-label {
            position: absolute;
            top: 10px;
            transform: translateX(-50%);
            background: var(--warning-color);
            color: white;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.8em;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .results-grid {
                grid-template-columns: 1fr;
            }
            
            .page-header h1 {
                font-size: 2rem;
            }
            
            .theme-toggle {
                width: 40px;
                height: 40px;
                font-size: 1em;
                bottom: 20px;
                left: 20px;
            }
            
            .main-tabs {
                flex-direction: column;
            }
            
            .filter-type {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="calculator-container">
        <div class="page-header">
            <h1><i class="fas fa-wave-square"></i> RC Filter & LC Resonance Calculator</h1>
            <p>Essential tools for audio, electronics, and communications projects</p>
        </div>
        
        <div class="main-tabs">
            <button class="main-tab-button active" onclick="openMainTab(event, 'RCFilter')">
                <i class="fas fa-filter"></i> RC Filter
            </button>
            <button class="main-tab-button" onclick="openMainTab(event, 'LCResonance')">
                <i class="fas fa-sync-alt"></i> LC Resonance
            </button>
        </div>
        
        <!-- RC Filter Tab -->
        <div id="RCFilter" class="main-tabcontent" style="display: block;">
            <div class="calculator">
                <h2>RC Filter Calculator</h2>
                <p>Calculate cutoff frequency or component values for RC high-pass and low-pass filters.</p>
                
                <div class="filter-type">
                    <button class="filter-btn active" onclick="setFilterType('lowpass')">Low-Pass Filter</button>
                    <button class="filter-btn" onclick="setFilterType('highpass')">High-Pass Filter</button>
                </div>
                
                <div class="circuit-diagram">
                    <div class="circuit-svg" id="circuitDiagram">
                        <!-- Circuit diagram will be rendered here -->
                    </div>
                    <div class="circuit-label" id="circuitLabel">Low-Pass RC Filter</div>
                </div>
                
                <div class="input-group">
                    <label for="resistance">Resistance (R)</label>
                    <input type="number" id="resistance" class="input-field" placeholder="e.g., 1000" step="0.1" min="0" value="1000">
                    <select id="resistanceUnit" class="input-field" style="margin-top: 5px;">
                        <option value="1">Ω (Ohms)</option>
                        <option value="1000">kΩ</option>
                        <option value="1000000">MΩ</option>
                    </select>
                </div>
                
                <div class="input-group">
                    <label for="capacitance">Capacitance (C)</label>
                    <input type="number" id="capacitance" class="input-field" placeholder="e.g., 0.000001" step="0.000000001" min="0" value="0.000001">
                    <select id="capacitanceUnit" class="input-field" style="margin-top: 5px;">
                        <option value="0.000000000001">pF</option>
                        <option value="0.000000001">nF</option>
                        <option value="0.000001" selected>μF</option>
                        <option value="0.001">mF</option>
                        <option value="1">F</option>
                    </select>
                </div>
                
                <div class="input-group">
                    <label for="cutoffFrequency">Cutoff Frequency (f<sub>c</sub>)</label>
                    <input type="number" id="cutoffFrequency" class="input-field" placeholder="e.g., 159.15" step="0.01" min="0" value="159.15">
                    <select id="frequencyUnit" class="input-field" style="margin-top: 5px;">
                        <option value="1">Hz</option>
                        <option value="1000">kHz</option>
                        <option value="1000000">MHz</option>
                    </select>
                </div>
                
                <button class="btn btn-primary" onclick="calculateRCFilter()">
                    <i class="fas fa-calculator"></i> Calculate
                </button>
                
                <div class="response-graph" id="responseGraph">
                    <div class="cutoff-line" id="cutoffLine"></div>
                    <div class="cutoff-label" id="cutoffLabel">f<sub>c</sub></div>
                    <svg class="graph-line" id="graphLine" viewBox="0 0 100 100" preserveAspectRatio="none"></svg>
                </div>
                
                <div class="results-grid">
                    <div class="result-box" id="cutoffBox">
                        <div class="result-label">Cutoff Frequency</div>
                        <div class="result-value" id="cutoffResult">159.15 Hz</div>
                    </div>
                    
                    <div class="result-box success" id="timeConstantBox">
                        <div class="result-label">Time Constant (τ)</div>
                        <div class="result-value" id="timeConstantResult">1 ms</div>
                    </div>
                    
                    <div class="result-box warning" id="impedanceBox">
                        <div class="result-label">Capacitive Reactance at f<sub>c</sub></div>
                        <div class="result-value" id="impedanceResult">1 kΩ</div>
                    </div>
                    
                    <div class="result-box" id="attenuationBox">
                        <div class="result-label">Attenuation at 10×f<sub>c</sub></div>
                        <div class="result-value" id="attenuationResult">-20 dB</div>
                    </div>
                </div>
            </div>
            
            <div class="info-box">
                <h3><i class="fas fa-info-circle"></i> RC Filter Theory</h3>
                <ul>
                    <li><strong>Cutoff Frequency (f<sub>c</sub>)</strong> = 1 / (2πRC)</li>
                    <li><strong>Time Constant (τ)</strong> = RC</li>
                    <li><strong>Low-Pass Filter</strong> passes frequencies below f<sub>c</sub>, attenuates higher frequencies</li>
                    <li><strong>High-Pass Filter</strong> passes frequencies above f<sub>c</sub>, attenuates lower frequencies</li>
                    <li>At the cutoff frequency, the output is -3dB (≈70.7%) of the input</li>
                    <li>Roll-off is -20dB/decade or -6dB/octave for first-order filters</li>
                </ul>
            </div>
        </div>
        
        <!-- LC Resonance Tab -->
        <div id="LCResonance" class="main-tabcontent">
            <div class="calculator">
                <h2>LC Resonant Frequency Calculator</h2>
                <p>Calculate the resonant frequency of LC circuits for tuning and filtering applications.</p>
                
                <div class="circuit-diagram">
                    <div class="circuit-svg" id="lcCircuitDiagram">
                        <!-- LC circuit diagram will be rendered here -->
                    </div>
                    <div class="circuit-label">LC Resonant Circuit</div>
                </div>
                
                <div class="input-group">
                    <label for="inductance">Inductance (L)</label>
                    <input type="number" id="inductance" class="input-field" placeholder="e.g., 0.001" step="0.000001" min="0" value="0.001">
                    <select id="inductanceUnit" class="input-field" style="margin-top: 5px;">
                        <option value="0.000000001">nH</option>
                        <option value="0.000001">μH</option>
                        <option value="0.001" selected>mH</option>
                        <option value="1">H</option>
                    </select>
                </div>
                
                <div class="input-group">
                    <label for="capacitanceLC">Capacitance (C)</label>
                    <input type="number" id="capacitanceLC" class="input-field" placeholder="e.g., 0.0000001" step="0.000000001" min="0" value="0.0000001">
                    <select id="capacitanceLCUnit" class="input-field" style="margin-top: 5px;">
                        <option value="0.000000000001">pF</option>
                        <option value="0.000000001" selected>nF</option>
                        <option value="0.000001">μF</option>
                        <option value="0.001">mF</option>
                        <option value="1">F</option>
                    </select>
                </div>
                
                <button class="btn btn-primary" onclick="calculateLCResonance()">
                    <i class="fas fa-calculator"></i> Calculate Resonant Frequency
                </button>
                
                <div class="results-grid">
                    <div class="result-box" id="resonantFreqBox">
                        <div class="result-label">Resonant Frequency</div>
                        <div class="result-value" id="resonantFreqResult">15.92 kHz</div>
                    </div>
                    
                    <div class="result-box success" id="angularFreqBox">
                        <div class="result-label">Angular Frequency (ω)</div>
                        <div class="result-value" id="angularFreqResult">100 krad/s</div>
                    </div>
                    
                    <div class="result-box warning" id="periodBox">
                        <div class="result-label">Period</div>
                        <div class="result-value" id="periodResult">62.8 μs</div>
                    </div>
                    
                    <div class="result-box" id="qualityFactorBox">
                        <div class="result-label">Quality Factor (Q)</div>
                        <div class="result-value" id="qualityFactorResult">--</div>
                    </div>
                </div>
            </div>
            
            <div class="info-box">
                <h3><i class="fas fa-info-circle"></i> LC Resonance Theory</h3>
                <ul>
                    <li><strong>Resonant Frequency (f<sub>r</sub>)</strong> = 1 / (2π√(LC))</li>
                    <li><strong>Angular Frequency (ω)</strong> = 2πf = 1 / √(LC)</li>
                    <li>At resonance, inductive and capacitive reactances cancel (X<sub>L</sub> = X<sub>C</sub>)</li>
                    <li>LC circuits are used in tuning, filtering, and impedance matching applications</li>
                    <li>The quality factor (Q) depends on circuit losses (resistance)</li>
                    <li>Higher Q means sharper resonance and better frequency selectivity</li>
                </ul>
            </div>
            
            <div class="info-box">
                <h3><i class="fas fa-lightbulb"></i> Applications</h3>
                <ul>
                    <li><strong>Radio Tuners:</strong> Select specific frequencies from broadcast signals</li>
                    <li><strong>Filters:</strong> Band-pass, band-stop, and notch filters</li>
                    <li><strong>Oscillators:</strong> Generate stable frequencies</li>
                    <li><strong>Impedance Matching:</strong> Maximize power transfer</li>
                    <li><strong>Power Supplies:</strong> Reduce ripple in switching regulators</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div class="toast" id="toast"></div>

    <!-- Dark Mode Toggle -->
    <button class="theme-toggle" id="theme-toggle" aria-label="Toggle theme">
        <i class="fas fa-moon"></i>
    </button>

    <!-- Footer -->
    <footer>
        <div class="social-footer">
            <a href="https://www.linkedin.com/in/mohamedtarek225" target="_blank" aria-label="LinkedIn" rel="noopener noreferrer"><i class="fab fa-linkedin"></i></a>
            <a href="https://github.com/mohamed22tarek5" target="_blank" aria-label="GitHub" rel="noopener noreferrer"><i class="fab fa-github"></i></a>
            <a href="https://www.instagram.com/_m7md_tarek_/?igshid=YmMyMTA2M2Y%3D" target="_blank" aria-label="Instagram" rel="noopener noreferrer"><i class="fab fa-instagram"></i></a>
            <a href="https://wa.me/+201090637406" target="_blank" aria-label="WhatsApp" rel="noopener noreferrer"><i class="fab fa-whatsapp"></i></a>
        </div>
        <div class="footer-bottom">
            &copy; <span id="current-year">2025</span> Mohamed Tarek Portfolio. All Rights Reserved.
            &copy; M.T.A.
        </div>
    </footer>

    <script>
        // Global variables
        let currentFilterType = 'lowpass';
        
        // Dark/Light Mode Toggle
        const themeToggle = document.getElementById('theme-toggle');
        const themeIcon = themeToggle.querySelector('i');
        
        // Check for saved theme preference
        const currentTheme = localStorage.getItem('theme') || 
                           (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
        
        if (currentTheme === 'dark') {
            document.body.setAttribute('data-theme', 'dark');
            themeIcon.classList.replace('fa-moon', 'fa-sun');
        } else {
            document.body.setAttribute('data-theme', 'light');
            themeIcon.classList.replace('fa-sun', 'fa-moon');
        }
        
        themeToggle.addEventListener('click', () => {
            if (document.body.getAttribute('data-theme') === 'light') {
                document.body.setAttribute('data-theme', 'dark');
                themeIcon.classList.replace('fa-moon', 'fa-sun');
                localStorage.setItem('theme', 'dark');
            } else {
                document.body.setAttribute('data-theme', 'light');
                themeIcon.classList.replace('fa-sun', 'fa-moon');
                localStorage.setItem('theme', 'light');
            }
        });

        // Main tab switching
        function openMainTab(evt, tabName) {
            var i, tabcontent, tabbuttons;
            tabcontent = document.getElementsByClassName("main-tabcontent");
            for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].style.display = "none";
            }
            tabbuttons = document.getElementsByClassName("main-tab-button");
            for (i = 0; i < tabbuttons.length; i++) {
                tabbuttons[i].className = tabbuttons[i].className.replace(" active", "");
            }
            document.getElementById(tabName).style.display = "block";
            evt.currentTarget.className += " active";
            
            // Redraw circuit diagrams when switching tabs
            if (tabName === 'RCFilter') {
                drawRCCircuit();
                calculateRCFilter();
            } else if (tabName === 'LCResonance') {
                drawLCCircuit();
                calculateLCResonance();
            }
        }

        // Set RC filter type
        function setFilterType(type) {
            currentFilterType = type;
            
            // Update active button
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Update circuit diagram and label
            drawRCCircuit();
            
            // Recalculate
            calculateRCFilter();
        }

        // Draw RC circuit diagram
        function drawRCCircuit() {
            const circuitDiagram = document.getElementById('circuitDiagram');
            const circuitLabel = document.getElementById('circuitLabel');
            
            if (currentFilterType === 'lowpass') {
                circuitDiagram.innerHTML = `
                    <svg width="300" height="120" viewBox="0 0 300 120">
                        <!-- Input -->
                        <text x="20" y="30" fill="var(--text-light)" font-size="14">V<sub>in</sub></text>
                        <line x1="40" y1="40" x2="80" y2="40" stroke="var(--text-light)" stroke-width="2"/>
                        
                        <!-- Resistor -->
                        <line x1="80" y1="40" x2="100" y2="40" stroke="var(--text-light)" stroke-width="2"/>
                        <rect x="100" y="30" width="40" height="20" fill="var(--card-dark)" stroke="var(--text-light)" stroke-width="1"/>
                        <text x="110" y="45" fill="var(--text-light)" font-size="12">R</text>
                        <line x1="140" y1="40" x2="160" y2="40" stroke="var(--text-light)" stroke-width="2"/>
                        
                        <!-- Capacitor -->
                        <line x1="160" y1="40" x2="180" y2="40" stroke="var(--text-light)" stroke-width="2"/>
                        <line x1="180" y1="20" x2="180" y2="60" stroke="var(--text-light)" stroke-width="2"/>
                        <line x1="200" y1="20" x2="200" y2="60" stroke="var(--text-light)" stroke-width="2"/>
                        <line x1="180" y1="40" x2="200" y2="40" stroke="var(--text-light)" stroke-width="2"/>
                        <text x="190" y="75" fill="var(--text-light)" font-size="12">C</text>
                        <line x1="200" y1="40" x2="220" y2="40" stroke="var(--text-light)" stroke-width="2"/>
                        
                        <!-- Output -->
                        <text x="240" y="30" fill="var(--text-light)" font-size="14">V<sub>out</sub></text>
                        <line x1="220" y1="40" x2="260" y2="40" stroke="var(--text-light)" stroke-width="2"/>
                        
                        <!-- Ground -->
                        <line x1="200" y1="60" x2="200" y2="80" stroke="var(--text-light)" stroke-width="2"/>
                        <line x1="180" y1="80" x2="220" y2="80" stroke="var(--text-light)" stroke-width="2"/>
                        <line x1="190" y1="85" x2="210" y2="85" stroke="var(--text-light)" stroke-width="2"/>
                        <line x1="195" y1="90" x2="205" y2="90" stroke="var(--text-light)" stroke-width="2"/>
                    </svg>
                `;
                circuitLabel.textContent = 'Low-Pass RC Filter';
            } else {
                circuitDiagram.innerHTML = `
                    <svg width="300" height="120" viewBox="0 0 300 120">
                        <!-- Input -->
                        <text x="20" y="30" fill="var(--text-light)" font-size="14">V<sub>in</sub></text>
                        <line x1="40" y1="40" x2="80" y2="40" stroke="var(--text-light)" stroke-width="2"/>
                        
                        <!-- Capacitor -->
                        <line x1="80" y1="40" x2="100" y2="40" stroke="var(--text-light)" stroke-width="2"/>
                        <line x1="100" y1="20" x2="100" y2="60" stroke="var(--text-light)" stroke-width="2"/>
                        <line x1="120" y1="20" x2="120" y2="60" stroke="var(--text-light)" stroke-width="2"/>
                        <line x1="100" y1="40" x2="120" y2="40" stroke="var(--text-light)" stroke-width="2"/>
                        <text x="110" y="75" fill="var(--text-light)" font-size="12">C</text>
                        <line x1="120" y1="40" x2="140" y2="40" stroke="var(--text-light)" stroke-width="2"/>
                        
                        <!-- Resistor -->
                        <line x1="140" y1="40" x2="160" y2="40" stroke="var(--text-light)" stroke-width="2"/>
                        <rect x="160" y="30" width="40" height="20" fill="var(--card-dark)" stroke="var(--text-light)" stroke-width="1"/>
                        <text x="170" y="45" fill="var(--text-light)" font-size="12">R</text>
                        <line x1="200" y1="40" x2="220" y2="40" stroke="var(--text-light)" stroke-width="2"/>
                        
                        <!-- Output -->
                        <text x="240" y="30" fill="var(--text-light)" font-size="14">V<sub>out</sub></text>
                        <line x1="220" y1="40" x2="260" y2="40" stroke="var(--text-light)" stroke-width="2"/>
                        
                        <!-- Ground -->
                        <line x1="120" y1="60" x2="120" y2="80" stroke="var(--text-light)" stroke-width="2"/>
                        <line x1="100" y1="80" x2="140" y2="80" stroke="var(--text-light)" stroke-width="2"/>
                        <line x1="110" y1="85" x2="130" y2="85" stroke="var(--text-light)" stroke-width="2"/>
                        <line x1="115" y1="90" x2="125" y2="90" stroke="var(--text-light)" stroke-width="2"/>
                    </svg>
                `;
                circuitLabel.textContent = 'High-Pass RC Filter';
            }
        }

        // Draw LC circuit diagram
        function drawLCCircuit() {
            const lcCircuitDiagram = document.getElementById('lcCircuitDiagram');
            
            lcCircuitDiagram.innerHTML = `
                <svg width="300" height="120" viewBox="0 0 300 120">
                    <!-- Input -->
                    <text x="20" y="30" fill="var(--text-light)" font-size="14">V<sub>in</sub></text>
                    <line x1="40" y1="40" x2="80" y2="40" stroke="var(--text-light)" stroke-width="2"/>
                    
                    <!-- Inductor -->
                    <line x1="80" y1="40" x2="90" y2="40" stroke="var(--text-light)" stroke-width="2"/>
                    <path d="M90,40 Q95,20 100,40 Q105,60 110,40 Q115,20 120,40 Q125,60 130,40" 
                          stroke="var(--text-light)" stroke-width="2" fill="none"/>
                    <line x1="130" y1="40" x2="140" y2="40" stroke="var(--text-light)" stroke-width="2"/>
                    <text x="110" y="75" fill="var(--text-light)" font-size="12">L</text>
                    
                    <!-- Capacitor -->
                    <line x1="140" y1="40" x2="160" y2="40" stroke="var(--text-light)" stroke-width="2"/>
                    <line x1="160" y1="20" x2="160" y2="60" stroke="var(--text-light)" stroke-width="2"/>
                    <line x1="180" y1="20" x2="180" y2="60" stroke="var(--text-light)" stroke-width="2"/>
                    <line x1="160" y1="40" x2="180" y2="40" stroke="var(--text-light)" stroke-width="2"/>
                    <text x="170" y="75" fill="var(--text-light)" font-size="12">C</text>
                    <line x1="180" y1="40" x2="220" y2="40" stroke="var(--text-light)" stroke-width="2"/>
                    
                    <!-- Output -->
                    <text x="240" y="30" fill="var(--text-light)" font-size="14">V<sub>out</sub></text>
                    <line x1="220" y1="40" x2="260" y2="40" stroke="var(--text-light)" stroke-width="2"/>
                </svg>
            `;
        }

        // Show toast notification
        function showToast(message, type = 'success') {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.className = 'toast';
            
            if (type === 'error') {
                toast.classList.add('error');
            }
            
            toast.classList.add('show');
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }

        // Calculate RC filter
        function calculateRCFilter() {
            // Get input values
            const resistance = parseFloat(document.getElementById('resistance').value);
            const resistanceUnit = parseFloat(document.getElementById('resistanceUnit').value);
            const capacitance = parseFloat(document.getElementById('capacitance').value);
            const capacitanceUnit = parseFloat(document.getElementById('capacitanceUnit').value);
            const cutoffFrequency = parseFloat(document.getElementById('cutoffFrequency').value);
            const frequencyUnit = parseFloat(document.getElementById('frequencyUnit').value);
            
            // Convert to base units
            const R = resistance * resistanceUnit;
            const C = capacitance * capacitanceUnit;
            const fc_input = cutoffFrequency * frequencyUnit;
            
            // Calculate cutoff frequency
            const fc_calculated = 1 / (2 * Math.PI * R * C);
            
            // Calculate time constant
            const timeConstant = R * C;
            
            // Calculate capacitive reactance at cutoff frequency
            const Xc = 1 / (2 * Math.PI * fc_calculated * C);
            
            // Calculate attenuation at 10x cutoff frequency
            const attenuation = currentFilterType === 'lowpass' ? 
                -20 * Math.log10(Math.sqrt(1 + Math.pow(10, 2))) : 
                -20 * Math.log10(10 / Math.sqrt(1 + Math.pow(10, 2)));
            
            // Update results
            document.getElementById('cutoffResult').textContent = formatFrequency(fc_calculated);
            document.getElementById('timeConstantResult').textContent = formatTimeConstant(timeConstant);
            document.getElementById('impedanceResult').textContent = formatResistance(Xc);
            document.getElementById('attenuationResult').textContent = `${attenuation.toFixed(1)} dB`;
            
            // Update response graph
            updateResponseGraph(fc_calculated);
            
            showToast('RC filter calculated successfully!');
        }

        // Calculate LC resonance
        function calculateLCResonance() {
            // Get input values
            const inductance = parseFloat(document.getElementById('inductance').value);
            const inductanceUnit = parseFloat(document.getElementById('inductanceUnit').value);
            const capacitance = parseFloat(document.getElementById('capacitanceLC').value);
            const capacitanceUnit = parseFloat(document.getElementById('capacitanceLCUnit').value);
            
            // Convert to base units
            const L = inductance * inductanceUnit;
            const C = capacitance * capacitanceUnit;
            
            // Calculate resonant frequency
            const fr = 1 / (2 * Math.PI * Math.sqrt(L * C));
            
            // Calculate angular frequency
            const ω = 2 * Math.PI * fr;
            
            // Calculate period
            const T = 1 / fr;
            
            // Update results
            document.getElementById('resonantFreqResult').textContent = formatFrequency(fr);
            document.getElementById('angularFreqResult').textContent = formatAngularFrequency(ω);
            document.getElementById('periodResult').textContent = formatPeriod(T);
            
            showToast('LC resonance calculated successfully!');
        }

        // Update frequency response graph
        function updateResponseGraph(fc) {
            const graphLine = document.getElementById('graphLine');
            const cutoffLine = document.getElementById('cutoffLine');
            const cutoffLabel = document.getElementById('cutoffLabel');
            
            // Calculate cutoff position (log scale)
            const cutoffPos = 50; // Middle of graph for log scale
            
            // Generate frequency response curve
            let pathData = "M0,100 ";
            for (let i = 0; i <= 100; i++) {
                const freqRatio = Math.pow(10, (i - 50) / 25); // Log scale from 0.01 to 100 times fc
                let gain;
                
                if (currentFilterType === 'lowpass') {
                    gain = 1 / Math.sqrt(1 + Math.pow(freqRatio, 2));
                } else {
                    gain = freqRatio / Math.sqrt(1 + Math.pow(freqRatio, 2));
                }
                
                // Convert to dB
                const gainDB = 20 * Math.log10(gain);
                // Map to graph coordinates (0-100)
                const y = Math.max(0, Math.min(100, 100 + gainDB * 5));
                
                pathData += `L${i},${y} `;
            }
            
            graphLine.setAttribute('d', pathData);
            
            // Position cutoff indicator
            cutoffLine.style.left = `${cutoffPos}%`;
            cutoffLabel.style.left = `${cutoffPos}%`;
        }

        // Formatting functions
        function formatFrequency(freq) {
            if (freq >= 1e9) {
                return `${(freq / 1e9).toFixed(3)} GHz`;
            } else if (freq >= 1e6) {
                return `${(freq / 1e6).toFixed(3)} MHz`;
            } else if (freq >= 1e3) {
                return `${(freq / 1e3).toFixed(3)} kHz`;
            } else if (freq >= 1) {
                return `${freq.toFixed(3)} Hz`;
            } else if (freq >= 1e-3) {
                return `${(freq * 1e3).toFixed(3)} mHz`;
            } else {
                return `${freq.toExponential(3)} Hz`;
            }
        }

        function formatTimeConstant(tc) {
            if (tc >= 1) {
                return `${tc.toFixed(3)} s`;
            } else if (tc >= 1e-3) {
                return `${(tc * 1e3).toFixed(3)} ms`;
            } else if (tc >= 1e-6) {
                return `${(tc * 1e6).toFixed(3)} μs`;
            } else if (tc >= 1e-9) {
                return `${(tc * 1e9).toFixed(3)} ns`;
            } else {
                return `${tc.toExponential(3)} s`;
            }
        }

        function formatResistance(r) {
            if (r >= 1e9) {
                return `${(r / 1e9).toFixed(3)} GΩ`;
            } else if (r >= 1e6) {
                return `${(r / 1e6).toFixed(3)} MΩ`;
            } else if (r >= 1e3) {
                return `${(r / 1e3).toFixed(3)} kΩ`;
            } else if (r >= 1) {
                return `${r.toFixed(3)} Ω`;
            } else if (r >= 1e-3) {
                return `${(r * 1e3).toFixed(3)} mΩ`;
            } else {
                return `${r.toExponential(3)} Ω`;
            }
        }

        function formatAngularFrequency(ω) {
            if (ω >= 1e9) {
                return `${(ω / 1e9).toFixed(3)} Grad/s`;
            } else if (ω >= 1e6) {
                return `${(ω / 1e6).toFixed(3)} Mrad/s`;
            } else if (ω >= 1e3) {
                return `${(ω / 1e3).toFixed(3)} krad/s`;
            } else if (ω >= 1) {
                return `${ω.toFixed(3)} rad/s`;
            } else {
                return `${ω.toExponential(3)} rad/s`;
            }
        }

        function formatPeriod(T) {
            if (T >= 1) {
                return `${T.toFixed(3)} s`;
            } else if (T >= 1e-3) {
                return `${(T * 1e3).toFixed(3)} ms`;
            } else if (T >= 1e-6) {
                return `${(T * 1e6).toFixed(3)} μs`;
            } else if (T >= 1e-9) {
                return `${(T * 1e9).toFixed(3)} ns`;
            } else {
                return `${T.toExponential(3)} s`;
            }
        }

        // Initialize
        window.onload = function() {
            drawRCCircuit();
            drawLCCircuit();
            calculateRCFilter();
            calculateLCResonance();
            
            // Set current year in footer
            document.getElementById('current-year').textContent = new Date().getFullYear();
        };
    </script>
</body>
</html>