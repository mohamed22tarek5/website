<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inductance Calculators</title>
    <link rel="icon" href="icon.png" type="image/png">
    <link rel="apple-touch-icon" href="apple-touch-icon.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #3498db;
            --primary-dark: #2980b9;
            --primary-light: #5dade2;
            --secondary-color: #9b59b6;
            --accent-color: #e74c3c;
            --background-dark: #121212;
            --background-darker: #0a0a0a;
            --background-secondary: #1a1a1a;
            --card-dark: #1e1e1e;
            --card-light: #252525;
            --text-light: #ffffff;
            --text-muted: #aaaaaa;
            --success-color: #4caf50;
            --error-color: #f44336;
            --warning-color: #f1c40f;
            --transition-speed: 0.3s;
            --border-radius: 12px;
            --box-shadow: 0 8px 30px rgba(0, 0, 0, 0.3);
            --box-shadow-hover: 0 15px 40px rgba(0, 0, 0, 0.4);
            --glow-effect: 0 0 15px rgba(52, 152, 219, 0.5);
        }

        /* Light mode variables */
        [data-theme="light"] {
            --background-dark: #f5f7fa;
            --background-darker: #e8ebf0;
            --background-secondary: #ffffff;
            --card-dark: #ffffff;
            --card-light: #f9f9f9;
            --text-light: #333333;
            --text-muted: #666666;
            --box-shadow: 0 8px 30px rgba(0, 0, 0, 0.1);
            --box-shadow-hover: 0 15px 40px rgba(0, 0, 0, 0.15);
        }

        * {
            padding: 0;
            margin: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--background-dark);
            color: var(--text-light);
            line-height: 1.6;
            transition: background-color var(--transition-speed) ease;
            padding: 20px;
            min-height: 100vh;
        }

        h1, h2, h3 {
            color: var(--primary-color);
            margin-bottom: 15px;
        }

        p {
            margin-bottom: 15px;
            color: var(--text-muted);
        }

        /* Header Styles */
        .page-header {
            text-align: center;
            margin-bottom: 30px;
            padding: 30px;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            border-radius: var(--border-radius);
            color: white;
            box-shadow: var(--box-shadow);
            position: relative;
            overflow: hidden;
        }

        .page-header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 70%);
        }

        .page-header h1 {
            color: white;
            font-size: 2.5rem;
            margin-bottom: 10px;
            position: relative;
            z-index: 1;
        }

        .page-header p {
            color: rgba(255, 255, 255, 0.9);
            font-size: 1.1rem;
            position: relative;
            z-index: 1;
        }

        /* Quick Stats */
        .quick-stats {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .stat-item {
            background: rgba(255, 255, 255, 0.1);
            padding: 10px 20px;
            border-radius: var(--border-radius);
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        /* Calculator Styles */
        .calculator-container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        /* Tab styles */
        .main-tabs {
            display: flex;
            overflow: hidden;
            border: 1px solid var(--background-secondary);
            background-color: var(--card-light);
            border-radius: var(--border-radius) var(--border-radius) 0 0;
            margin-bottom: 0;
            flex-wrap: wrap;
        }
        
        .main-tab-button {
            background-color: inherit;
            flex: 1;
            min-width: 150px;
            border: none;
            outline: none;
            cursor: pointer;
            padding: 14px 16px;
            transition: all var(--transition-speed) ease;
            color: var(--text-light);
            font-weight: bold;
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .main-tab-button:hover {
            background-color: var(--background-secondary);
        }
        
        .main-tab-button.active {
            background-color: var(--primary-color);
            color: white;
        }
        
        .main-tab-button.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background-color: white;
        }
        
        .main-tabcontent {
            display: none;
            padding: 30px;
            border: 1px solid var(--background-secondary);
            border-top: none;
            border-radius: 0 0 var(--border-radius) var(--border-radius);
            background-color: var(--card-dark);
            box-shadow: var(--box-shadow);
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Color code calculator styles */
        .calculator {
            border: 1px solid var(--background-secondary);
            padding: 25px;
            border-radius: var(--border-radius);
            margin-bottom: 20px;
            background-color: var(--card-light);
            transition: all var(--transition-speed) ease;
            position: relative;
        }
        
        .calculator:hover {
            box-shadow: var(--box-shadow-hover);
        }
        
        .band-container {
            display: flex;
            justify-content: center;
            margin: 30px 0;
            flex-wrap: wrap;
        }
        
        .band {
            width: 50px;
            height: 120px;
            margin: 0 8px;
            border-radius: 6px;
            cursor: pointer;
            position: relative;
            transition: all var(--transition-speed) ease;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            border: 2px solid transparent;
        }
        
        .band:hover {
            transform: translateY(-5px);
            box-shadow: var(--glow-effect);
            border-color: var(--primary-color);
        }
        
        .band.active {
            border-color: var(--warning-color);
            box-shadow: var(--glow-effect);
        }
        
        .band-label {
            position: absolute;
            bottom: -30px;
            width: 100%;
            text-align: center;
            font-size: 14px;
            color: var(--text-light);
            font-weight: 600;
        }
        
        .result {
            font-size: 1.3em;
            margin: 25px 0;
            padding: 20px;
            background: var(--background-secondary);
            border-radius: var(--border-radius);
            color: var(--text-light);
            border-left: 5px solid var(--primary-color);
            text-align: center;
            font-weight: 600;
            box-shadow: var(--box-shadow);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .result-details {
            font-size: 0.9em;
            color: var(--text-muted);
            margin-top: 10px;
            width: 100%;
        }
        
        .save-btn {
            background: var(--success-color);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 50px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 0.9em;
            transition: all var(--transition-speed) ease;
        }
        
        .save-btn:hover {
            background: #3d8b40;
            transform: translateY(-2px);
        }
        
        .tabs {
            margin-bottom: 25px;
            display: flex;
            flex-wrap: wrap;
        }
        
        .tab-button {
            padding: 12px 24px;
            margin-right: 10px;
            margin-bottom: 10px;
            border: none;
            background: var(--background-secondary);
            color: var(--text-light);
            cursor: pointer;
            border-radius: var(--border-radius);
            transition: all var(--transition-speed) ease;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .tab-button:hover {
            background: var(--primary-light);
            color: white;
        }
        
        .tab-button.active {
            background: var(--primary-color);
            color: white;
            box-shadow: var(--glow-effect);
        }
        
        .tab-content {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .info-box {
            margin-top: 25px;
            padding: 25px;
            background: rgba(52, 152, 219, 0.1);
            border-radius: var(--border-radius);
            border-left: 5px solid var(--primary-color);
            color: var(--text-light);
            box-shadow: var(--box-shadow);
        }
        
        /* Series/parallel calculator styles */
        .inductors-container {
            margin-top: 20px;
        }
        
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 12px 24px;
            border-radius: 50px;
            font-weight: 600;
            font-size: 0.95em;
            transition: all var(--transition-speed) ease;
            cursor: pointer;
            border: none;
            outline: none;
            margin-right: 10px;
            margin-bottom: 10px;
        }
        
        .btn-primary {
            background-color: var(--primary-color);
            color: white;
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.4);
        }
        
        .btn-primary:hover {
            background-color: var(--primary-dark);
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(52, 152, 219, 0.6);
        }
        
        .btn-outline {
            background-color: transparent;
            color: var(--primary-color);
            border: 2px solid var(--primary-color);
        }
        
        .btn-outline:hover {
            background-color: var(--primary-color);
            color: white;
            transform: translateY(-3px);
        }
        
        .btn-success {
            background-color: var(--success-color);
            color: white;
            box-shadow: 0 5px 15px rgba(76, 175, 80, 0.4);
        }
        
        .btn-success:hover {
            background-color: #3d8b40;
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(76, 175, 80, 0.6);
        }
        
        input {
            padding: 12px 15px;
            border: 1px solid var(--background-secondary);
            border-radius: var(--border-radius);
            margin-bottom: 10px;
            width: 140px;
            background-color: var(--background-secondary);
            color: var(--text-light);
            transition: all var(--transition-speed) ease;
            font-size: 1rem;
        }
        
        input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2);
        }
        
        label {
            display: inline-block;
            margin-right: 10px;
            color: var(--text-light);
            font-weight: 600;
            min-width: 40px;
        }
        
        .inductor-input {
            display: flex;
            align-items: center;
            margin-bottom: 18px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: var(--border-radius);
            transition: all var(--transition-speed) ease;
        }
        
        .inductor-input:hover {
            background: rgba(255, 255, 255, 0.08);
        }
        
        .inductor-input span {
            margin-left: 5px;
            color: var(--text-light);
        }
        
        .unit-selector {
            margin-left: 10px;
            padding: 12px 15px;
            border: 1px solid var(--background-secondary);
            border-radius: var(--border-radius);
            background-color: var(--background-secondary);
            color: var(--text-light);
            transition: all var(--transition-speed) ease;
            font-size: 1rem;
        }
        
        .unit-selector:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2);
        }
        
        .explanation {
            margin-top: 30px;
            padding: 25px;
            background-color: rgba(241, 196, 15, 0.1);
            border-radius: var(--border-radius);
            border-left: 5px solid var(--warning-color);
            color: var(--text-light);
            box-shadow: var(--box-shadow);
        }

        .color-legend {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin: 25px 0;
            justify-content: center;
        }
        
        .color-item {
            display: flex;
            align-items: center;
            margin-right: 15px;
            margin-bottom: 10px;
            padding: 8px 12px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: var(--border-radius);
            transition: all var(--transition-speed) ease;
            cursor: pointer;
        }
        
        .color-item:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-2px);
        }
        
        .color-swatch {
            width: 24px;
            height: 24px;
            border: 2px solid var(--background-secondary);
            margin-right: 8px;
            border-radius: 4px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        /* Dark Mode Toggle */
        .theme-toggle {
            position: fixed;
            bottom: 30px;
            left: 30px;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background-color: var(--card-dark);
            color: var(--primary-color);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.4em;
            box-shadow: var(--box-shadow);
            cursor: pointer;
            transition: all var(--transition-speed) ease;
            z-index: 999;
            border: 2px solid var(--primary-color);
        }
        
        .theme-toggle:hover {
            transform: scale(1.1);
            box-shadow: var(--glow-effect);
        }

        /* Notification */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 20px;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 10px;
            max-width: 400px;
            transform: translateX(120%);
            transition: transform 0.5s ease;
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        .notification.success {
            background-color: var(--success-color);
            color: white;
        }
        
        .notification.error {
            background-color: var(--error-color);
            color: white;
        }
        
        .close-notification {
            background: none;
            border: none;
            color: white;
            font-size: 1.2em;
            cursor: pointer;
            margin-left: auto;
        }
        
        /* History */
        .history-item {
            background-color: var(--card-light);
            padding: 15px;
            border-radius: var(--border-radius);
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .history-details {
            font-size: 0.9em;
            color: var(--text-muted);
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .input-field {
                width: 100%;
            }
            
            .tab-button {
                padding: 10px 16px;
                font-size: 14px;
                flex: 1;
                min-width: 120px;
                text-align: center;
            }
            
            .band {
                width: 35px;
                height: 90px;
                margin: 0 5px;
            }
            
            .band-label {
                font-size: 12px;
            }
            
            .main-tabs {
                flex-direction: column;
            }
            
            .main-tab-button {
                padding: 12px;
            }
            
            .inductor-input {
                flex-wrap: wrap;
            }
            
            .inductor-input label {
                width: 100%;
                margin-bottom: 5px;
            }
            
            .page-header h1 {
                font-size: 2rem;
            }
            
            .result {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }
        }
        
        @media (max-width: 480px) {
            body {
                padding: 10px;
            }
            
            .band {
                width: 30px;
                height: 80px;
            }
            
            .color-item {
                margin-right: 8px;
                padding: 6px 10px;
                font-size: 0.9rem;
            }
            
            .theme-toggle {
                width: 50px;
                height: 50px;
                font-size: 1.2em;
                bottom: 20px;
                left: 20px;
            }
        }

        /* Footer Styles */
        footer {
            background-color: var(--card-dark);
            color: var(--text-light);
            text-align: center;
            padding: 40px 20px;
            margin-top: 50px;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
        }

        .social-footer {
            display: flex;
            justify-content: center;
            margin: 25px 0;
            flex-wrap: wrap;
        }

        .social-footer a {
            color: var(--text-light);
            font-size: 1.6em;
            margin: 0 15px;
            transition: all var(--transition-speed) ease;
            display: inline-block;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(255, 255, 255, 0.1);
        }

        .social-footer a:hover {
            color: var(--primary-color);
            transform: translateY(-5px);
            background: rgba(52, 152, 219, 0.2);
            box-shadow: var(--glow-effect);
        }

        .footer-bottom {
            margin-top: 25px;
            font-size: 0.95em;
            opacity: 0.8;
        }
        
        /* Table Styles */
        table {
            width: 100%;
            border-collapse: collapse;
            border: 1px solid var(--background-secondary);
            margin: 20px 0;
            box-shadow: var(--box-shadow);
        }
        
        th, td {
            border: 1px solid var(--background-secondary);
            padding: 12px;
            text-align: center;
        }
        
        th {
            background-color: var(--background-secondary);
            color: var(--primary-color);
            font-weight: 600;
        }
        
        tr:nth-child(even) {
            background-color: rgba(255, 255, 255, 0.05);
        }
        
        tr:hover {
            background-color: rgba(52, 152, 219, 0.1);
        }
        
        /* Highlight important formulas */
        .formula {
            text-align: center;
            font-size: 1.3rem;
            margin: 20px 0;
            padding: 15px;
            background: rgba(52, 152, 219, 0.1);
            border-radius: var(--border-radius);
            border-left: 5px solid var(--primary-color);
            font-weight: 600;
        }
        
        /* Tooltip */
        .tooltip {
            position: relative;
            display: inline-block;
            border-bottom: 1px dotted var(--primary-color);
            cursor: help;
        }
        
        .tooltip .tooltiptext {
            visibility: hidden;
            width: 200px;
            background-color: var(--card-dark);
            color: var(--text-light);
            text-align: center;
            border-radius: var(--border-radius);
            padding: 10px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: opacity 0.3s;
            box-shadow: var(--box-shadow);
            border: 1px solid var(--primary-color);
        }
        
        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }

        /* New Unit Converter Styles */
        .converter-container {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-top: 20px;
        }

        .converter-row {
            display: flex;
            align-items: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        .converter-input {
            flex: 1;
            min-width: 200px;
        }

        .converter-unit {
            width: 120px;
        }

        .converter-result {
            margin-top: 20px;
            padding: 20px;
            background: var(--background-secondary);
            border-radius: var(--border-radius);
            border-left: 5px solid var(--success-color);
        }

        /* New Inductor Design Styles */
        .design-input-group {
            margin-bottom: 20px;
        }

        .design-input-group label {
            display: block;
            margin-bottom: 8px;
            color: var(--text-light);
            font-weight: 500;
        }

        .design-input-group input {
            width: 100%;
            max-width: 300px;
        }

        .design-results {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .design-result-box {
            padding: 15px;
            border-radius: var(--border-radius);
            background: rgba(52, 152, 219, 0.1);
            border-left: 4px solid var(--primary-color);
        }

        .design-result-label {
            font-size: 0.9em;
            color: var(--text-muted);
            margin-bottom: 5px;
        }

        .design-result-value {
            font-size: 1.2em;
            font-weight: bold;
            color: var(--text-light);
        }
        
        /* New Calculator Types */
        .inductor-design {
            margin-top: 30px;
        }
        
        .design-controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .design-input {
            display: flex;
            flex-direction: column;
        }
        
        /* Loading spinner */
        .spinner {
            border: 3px solid rgba(52, 152, 219, 0.2);
            border-top: 3px solid var(--primary-color);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Search and Filter */
        .search-box {
            margin: 20px 0;
            position: relative;
        }
        
        .search-input {
            width: 100%;
            padding: 12px 20px;
            padding-left: 45px;
            border: 1px solid var(--background-secondary);
            border-radius: 50px;
            background-color: var(--background-secondary);
            color: var(--text-light);
            font-size: 1rem;
        }
        
        .search-icon {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-muted);
        }
        
        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 40px 20px;
            color: var(--text-muted);
        }
        
        .empty-state i {
            font-size: 3em;
            margin-bottom: 15px;
            opacity: 0.5;
        }
    </style>
</head>
<body>
    <div class="calculator-container">
        <div class="page-header">
            <h1><i class="fas fa-calculator"></i> Inductance Calculators</h1>
            <p>Advanced tools for electronics engineers and hobbyists to calculate and design inductors</p>
            <div class="quick-stats">
                <div class="stat-item">
                    <i class="fas fa-bolt"></i>
                    <span>5 Calculators</span>
                </div>
                <div class="stat-item">
                    <i class="fas fa-history"></i>
                    <span>Real-time Updates</span>
                </div>
                <div class="stat-item">
                    <i class="fas fa-mobile-alt"></i>
                    <span>Mobile Friendly</span>
                </div>
            </div>
        </div>
        
        <div class="main-tabs">
            <button class="main-tab-button active" onclick="openMainTab(event, 'ColorCode')">
                <i class="fas fa-palette"></i> Color Code
            </button>
            <button class="main-tab-button" onclick="openMainTab(event, 'SeriesParallel')">
                <i class="fas fa-link"></i> Series/Parallel
            </button>
            <button class="main-tab-button" onclick="openMainTab(event, 'UnitConverter')">
                <i class="fas fa-exchange-alt"></i> Unit Converter
            </button>
            <button class="main-tab-button" onclick="openMainTab(event, 'InductorDesign')">
                <i class="fas fa-cogs"></i> Inductor Design
            </button>
            <button class="main-tab-button" onclick="openMainTab(event, 'Info')">
                <i class="fas fa-info-circle"></i> Information
            </button>
        </div>
        
        <!-- Color Code Calculator Tab -->
        <div id="ColorCode" class="main-tabcontent" style="display: block;">
            <div class="tabs">
                <button class="tab-button active" onclick="switchTab('4band')">
                    <i class="fas fa-bars"></i> 4-Band
                </button>
                <button class="tab-button" onclick="switchTab('5band')">
                    <i class="fas fa-bars"></i> 5-Band
                </button>
            </div>

            <div id="4band" class="tab-content active calculator">
                <h2><i class="fas fa-indent"></i> 4-Band Inductor Color Code Calculator</h2>
                <p>Click on each band to select its color. The inductance value will update automatically.</p>
                
                <div class="band-container">
                    <div class="band" id="band1" style="background-color: #966f33;" onclick="selectBand(1)"></div>
                    <div class="band" id="band2" style="background-color: #000000;" onclick="selectBand(2)"></div>
                    <div class="band" id="band3" style="background-color: #c0c0c0;" onclick="selectBand(3)"></div>
                    <div class="band" id="band4" style="background-color: #d4af37;" onclick="selectBand(4)"></div>
                </div>
                <div class="band-container">
                    <span class="band-label">1st Digit</span>
                    <span class="band-label">2nd Digit</span>
                    <span class="band-label">Multiplier</span>
                    <span class="band-label">Tolerance</span>
                </div>
                
                <div class="result" id="colorCodeResult">
                    <div>
                        <div>Inductance: 10μH ±5%</div>
                        <div class="result-details">Raw Value: 10 μH | Color Code: Brown-Black-Silver-Gold</div>
                    </div>
                    <button class="save-btn" onclick="saveCalculation('color-4band')">
                        <i class="fas fa-save"></i> Save
                    </button>
                </div>
                
                <div class="color-legend">
                    <div class="color-item" onclick="selectColorFromLegend(0)">
                        <div class="color-swatch" style="background-color: #000000;"></div>Black (0)
                    </div>
                    <div class="color-item" onclick="selectColorFromLegend(1)">
                        <div class="color-swatch" style="background-color: #966f33;"></div>Brown (1)
                    </div>
                    <div class="color-item" onclick="selectColorFromLegend(2)">
                        <div class="color-swatch" style="background-color: #ff0000;"></div>Red (2)
                    </div>
                    <div class="color-item" onclick="selectColorFromLegend(3)">
                        <div class="color-swatch" style="background-color: #ffa500;"></div>Orange (3)
                    </div>
                    <div class="color-item" onclick="selectColorFromLegend(4)">
                        <div class="color-swatch" style="background-color: #ffff00;"></div>Yellow (4)
                    </div>
                    <div class="color-item" onclick="selectColorFromLegend(5)">
                        <div class="color-swatch" style="background-color: #008000;"></div>Green (5)
                    </div>
                    <div class="color-item" onclick="selectColorFromLegend(6)">
                        <div class="color-swatch" style="background-color: #0000ff;"></div>Blue (6)
                    </div>
                    <div class="color-item" onclick="selectColorFromLegend(7)">
                        <div class="color-swatch" style="background-color: #800080;"></div>Violet (7)
                    </div>
                    <div class="color-item" onclick="selectColorFromLegend(8)">
                        <div class="color-swatch" style="background-color: #808080;"></div>Gray (8)
                    </div>
                    <div class="color-item" onclick="selectColorFromLegend(9)">
                        <div class="color-swatch" style="background-color: #ffffff;"></div>White (9)
                    </div>
                    <div class="color-item" onclick="selectColorFromLegend(10)">
                        <div class="color-swatch" style="background-color: #d4af37;"></div>Gold (±5%)
                    </div>
                    <div class="color-item" onclick="selectColorFromLegend(11)">
                        <div class="color-swatch" style="background-color: #c0c0c0;"></div>Silver (±10%)
                    </div>
                </div>
            </div>

            <div id="5band" class="tab-content calculator">
                <h2><i class="fas fa-indent"></i> 5-Band Inductor Color Code Calculator</h2>
                <p>Click on each band to select its color. The inductance value will update automatically.</p>
                
                <div class="band-container">
                    <div class="band" id="band1-5" style="background-color: #966f33;" onclick="selectBand5(1)"></div>
                    <div class="band" id="band2-5" style="background-color: #000000;" onclick="selectBand5(2)"></div>
                    <div class="band" id="band3-5" style="background-color: #ff0000;" onclick="selectBand5(3)"></div>
                    <div class="band" id="band4-5" style="background-color: #c0c0c0;" onclick="selectBand5(4)"></div>
                    <div class="band" id="band5-5" style="background-color: #d4af37;" onclick="selectBand5(5)"></div>
                </div>
                <div class="band-container">
                    <span class="band-label">1st Digit</span>
                    <span class="band-label">2nd Digit</span>
                    <span class="band-label">3rd Digit</span>
                    <span class="band-label">Multiplier</span>
                    <span class="band-label">Tolerance</span>
                </div>
                
                <div class="result" id="colorCodeResult5">
                    <div>
                        <div>Inductance: 100μH ±5%</div>
                        <div class="result-details">Raw Value: 100 μH | Color Code: Brown-Black-Black-Silver-Gold</div>
                    </div>
                    <button class="save-btn" onclick="saveCalculation('color-5band')">
                        <i class="fas fa-save"></i> Save
                    </button>
                </div>
                
                <div class="color-legend">
                    <div class="color-item" onclick="selectColorFromLegend5(0)">
                        <div class="color-swatch" style="background-color: #000000;"></div>Black (0)
                    </div>
                    <div class="color-item" onclick="selectColorFromLegend5(1)">
                        <div class="color-swatch" style="background-color: #966f33;"></div>Brown (1)
                    </div>
                    <div class="color-item" onclick="selectColorFromLegend5(2)">
                        <div class="color-swatch" style="background-color: #ff0000;"></div>Red (2)
                    </div>
                    <div class="color-item" onclick="selectColorFromLegend5(3)">
                        <div class="color-swatch" style="background-color: #ffa500;"></div>Orange (3)
                    </div>
                    <div class="color-item" onclick="selectColorFromLegend5(4)">
                        <div class="color-swatch" style="background-color: #ffff00;"></div>Yellow (4)
                    </div>
                    <div class="color-item" onclick="selectColorFromLegend5(5)">
                        <div class="color-swatch" style="background-color: #008000;"></div>Green (5)
                    </div>
                    <div class="color-item" onclick="selectColorFromLegend5(6)">
                        <div class="color-swatch" style="background-color: #0000ff;"></div>Blue (6)
                    </div>
                    <div class="color-item" onclick="selectColorFromLegend5(7)">
                        <div class="color-swatch" style="background-color: #800080;"></div>Violet (7)
                    </div>
                    <div class="color-item" onclick="selectColorFromLegend5(8)">
                        <div class="color-swatch" style="background-color: #808080;"></div>Gray (8)
                    </div>
                    <div class="color-item" onclick="selectColorFromLegend5(9)">
                        <div class="color-swatch" style="background-color: #ffffff;"></div>White (9)
                    </div>
                    <div class="color-item" onclick="selectColorFromLegend5(10)">
                        <div class="color-swatch" style="background-color: #d4af37;"></div>Gold (±5%)
                    </div>
                    <div class="color-item" onclick="selectColorFromLegend5(11)">
                        <div class="color-swatch" style="background-color: #c0c0c0;"></div>Silver (±10%)
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Series/Parallel Calculator Tab -->
        <div id="SeriesParallel" class="main-tabcontent">
            <div class="tabs">
                <button class="tab-button active" onclick="switchCalcTab('SeriesTab')">
                    <i class="fas fa-arrow-right"></i> Series Connection
                </button>
                <button class="tab-button" onclick="switchCalcTab('ParallelTab')">
                    <i class="fas fa-arrows-alt-h"></i> Parallel Connection
                </button>
                <button class="tab-button" onclick="switchCalcTab('ExplanationTab')">
                    <i class="fas fa-book"></i> Theory
                </button>
            </div>
            
            <!-- Series Tab -->
            <div id="SeriesTab" class="tab-content active calculator">
                <h2><i class="fas fa-arrow-right"></i> Series Inductors Calculator</h2>
                <p>Enter inductor values to calculate the equivalent inductance in series.</p>
                
                <div id="series-inductors" class="inductors-container">
                    <div class="inductor-input">
                        <label>L1:</label>
                        <input type="number" min="0" step="0.01" value="10" onchange="calculateInductance('series')">
                        <select class="unit-selector" onchange="calculateInductance('series')">
                            <option value="1e-6">μH</option>
                            <option value="1e-3" selected>mH</option>
                            <option value="1">H</option>
                        </select>
                    </div>
                    <div class="inductor-input">
                        <label>L2:</label>
                        <input type="number" min="0" step="0.01" value="22" onchange="calculateInductance('series')">
                        <select class="unit-selector" onchange="calculateInductance('series')">
                            <option value="1e-6">μH</option>
                            <option value="1e-3" selected>mH</option>
                            <option value="1">H</option>
                        </select>
                    </div>
                </div>
                
                <button class="btn btn-primary" onclick="addInductor('series')">
                    <i class="fas fa-plus"></i> Add Inductor
                </button>
                <button class="btn btn-outline" onclick="removeInductor('series')">
                    <i class="fas fa-minus"></i> Remove Inductor
                </button>
                <button class="btn btn-success" onclick="saveCalculation('series')">
                    <i class="fas fa-save"></i> Save
                </button>
                
                <div id="series-result" class="result">
                    <div>
                        <div>Equivalent Inductance: 32.00 mH</div>
                        <div class="result-details">Calculation: Leq = L1 + L2 = 10 mH + 22 mH = 32 mH</div>
                    </div>
                </div>
            </div>
            
            <!-- Parallel Tab -->
            <div id="ParallelTab" class="tab-content calculator">
                <h2><i class="fas fa-arrows-alt-h"></i> Parallel Inductors Calculator</h2>
                <p>Enter inductor values to calculate the equivalent inductance in parallel.</p>
                
                <div id="parallel-inductors" class="inductors-container">
                    <div class="inductor-input">
                        <label>L1:</label>
                        <input type="number" min="0" step="0.01" value="10" onchange="calculateInductance('parallel')">
                        <select class="unit-selector" onchange="calculateInductance('parallel')">
                            <option value="1e-6">μH</option>
                            <option value="1e-3" selected>mH</option>
                            <option value="1">H</option>
                        </select>
                    </div>
                    <div class="inductor-input">
                        <label>L2:</label>
                        <input type="number" min="0" step="0.01" value="22" onchange="calculateInductance('parallel')">
                        <select class="unit-selector" onchange="calculateInductance('parallel')">
                            <option value="1e-6">μH</option>
                            <option value="1e-3" selected>mH</option>
                            <option value="1">H</option>
                        </select>
                    </div>
                </div>
                
                <button class="btn btn-primary" onclick="addInductor('parallel')">
                    <i class="fas fa-plus"></i> Add Inductor
                </button>
                <button class="btn btn-outline" onclick="removeInductor('parallel')">
                    <i class="fas fa-minus"></i> Remove Inductor
                </button>
                <button class="btn btn-success" onclick="saveCalculation('parallel')">
                    <i class="fas fa-save"></i> Save
                </button>
                
                <div id="parallel-result" class="result">
                    <div>
                        <div>Equivalent Inductance: 6.88 mH</div>
                        <div class="result-details">Calculation: 1/Leq = 1/L1 + 1/L2 = 1/10 + 1/22 = 0.1455 H⁻¹</div>
                    </div>
                </div>
            </div>
            
            <!-- Explanation Tab -->
            <div id="ExplanationTab" class="tab-content calculator">
                <h2><i class="fas fa-book"></i> Theory of Inductors in Series and Parallel</h2>
                
                <div class="explanation">
                    <h3><i class="fas fa-arrow-right"></i> Inductors in Series</h3>
                    <p>When inductors are connected in series, the equivalent inductance is calculated by adding the individual inductances:</p>
                    <div class="formula">
                        L<sub>eq</sub> = L<sub>1</sub> + L<sub>2</sub> + L<sub>3</sub> + ... + L<sub>n</sub>
                    </div>
                    <p>This means the equivalent inductance is always larger than the largest individual inductor in the series.</p>
                    
                    <h3><i class="fas fa-arrows-alt-h"></i> Inductors in Parallel</h3>
                    <p>When inductors are connected in parallel, the equivalent inductance is calculated using:</p>
                    <div class="formula">
                        1/L<sub>eq</sub> = 1/L<sub>1</sub> + 1/L<sub>2</sub> + 1/L<sub>3</sub> + ... + 1/L<sub>n</sub>
                    </div>
                    <p>This means the equivalent inductance is always smaller than the smallest individual inductor in the parallel connection.</p>
                    
                    <h3><i class="fas fa-microscope"></i> Physical Explanation</h3>
                    <p><strong>Series connection:</strong> In series, the same current flows through each inductor, and the voltage drops add up. The total inductance is the sum of individual inductances because the magnetic fields add constructively.</p>
                    <p><strong>Parallel connection:</strong> In parallel, the voltage across each inductor is the same, but the currents divide. The total inductance is less than any individual inductance because the magnetic fields interact to reduce the overall inductance.</p>
                    
                    <h3><i class="fas fa-exclamation-triangle"></i> Important Notes</h3>
                    <ul>
                        <li>These formulas assume no mutual coupling between inductors</li>
                        <li>For mutually coupled inductors, calculations are more complex</li>
                        <li>In real circuits, always consider the inductor's DC resistance and self-resonant frequency</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <!-- Unit Converter Tab -->
        <div id="UnitConverter" class="main-tabcontent">
            <div class="calculator">
                <h2><i class="fas fa-exchange-alt"></i> Inductance Unit Converter</h2>
                <p>Convert between different inductance units quickly and easily.</p>
                
                <div class="converter-container">
                    <div class="converter-row">
                        <div class="converter-input">
                            <label for="converterValue">Value:</label>
                            <input type="number" id="converterValue" value="1" step="0.001" min="0">
                        </div>
                        <div class="converter-unit">
                            <label for="fromUnit">From:</label>
                            <select id="fromUnit" class="unit-selector">
                                <option value="1e-12">pH (picohenry)</option>
                                <option value="1e-9">nH (nanohenry)</option>
                                <option value="1e-6" selected>μH (microhenry)</option>
                                <option value="1e-3">mH (millihenry)</option>
                                <option value="1">H (henry)</option>
                                <option value="1e3">kH (kilohenry)</option>
                            </select>
                        </div>
                        <div class="converter-unit">
                            <label for="toUnit">To:</label>
                            <select id="toUnit" class="unit-selector">
                                <option value="1e-12">pH (picohenry)</option>
                                <option value="1e-9">nH (nanohenry)</option>
                                <option value="1e-6">μH (microhenry)</option>
                                <option value="1e-3" selected>mH (millihenry)</option>
                                <option value="1">H (henry)</option>
                                <option value="1e3">kH (kilohenry)</option>
                            </select>
                        </div>
                    </div>
                    
                    <button class="btn btn-primary" onclick="convertUnits()">
                        <i class="fas fa-exchange-alt"></i> Convert
                    </button>
                    <button class="btn btn-success" onclick="saveCalculation('converter')">
                        <i class="fas fa-save"></i> Save
                    </button>
                    
                    <div id="converter-result" class="converter-result">
                        <p><strong>Conversion Result:</strong></p>
                        <p>1 μH = 1,000 nH = 1,000,000 pH</p>
                        <p>1 μH = 0.001 mH = 0.000001 H</p>
                    </div>
                </div>
                
                <div class="info-box">
                    <h3><i class="fas fa-info-circle"></i> Unit Conversion Factors</h3>
                    <ul>
                        <li>1 Henry (H) = 1,000 millihenries (mH)</li>
                        <li>1 millihenry (mH) = 1,000 microhenries (μH)</li>
                        <li>1 microhenry (μH) = 1,000 nanohenries (nH)</li>
                        <li>1 nanohenry (nH) = 1,000 picohenries (pH)</li>
                        <li>1 kilohenry (kH) = 1,000 Henry (H)</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <!-- New Inductor Design Tab -->
        <div id="InductorDesign" class="main-tabcontent">
            <div class="calculator">
                <h2><i class="fas fa-cogs"></i> Inductor Design Calculator</h2>
                <p>Design air-core inductors by specifying physical parameters.</p>
                
                <div class="design-controls">
                    <div class="design-input">
                        <label for="wireDiameter">Wire Diameter (mm):</label>
                        <input type="number" id="wireDiameter" value="0.5" min="0.1" step="0.1" onchange="calculateInductorDesign()">
                    </div>
                    <div class="design-input">
                        <label for="coilDiameter">Coil Diameter (mm):</label>
                        <input type="number" id="coilDiameter" value="10" min="1" step="0.1" onchange="calculateInductorDesign()">
                    </div>
                    <div class="design-input">
                        <label for="numberTurns">Number of Turns:</label>
                        <input type="number" id="numberTurns" value="20" min="1" step="1" onchange="calculateInductorDesign()">
                    </div>
                    <div class="design-input">
                        <label for="coilLength">Coil Length (mm):</label>
                        <input type="number" id="coilLength" value="10" min="1" step="0.1" onchange="calculateInductorDesign()">
                    </div>
                </div>
                
                <button class="btn btn-success" onclick="saveCalculation('design')">
                    <i class="fas fa-save"></i> Save Design
                </button>
                
                <div class="design-results">
                    <div class="design-result-box">
                        <div class="design-result-label">Calculated Inductance</div>
                        <div class="design-result-value" id="calculatedInductance">1.26 μH</div>
                    </div>
                    <div class="design-result-box">
                        <div class="design-result-label">Wire Length</div>
                        <div class="design-result-value" id="wireLength">0.63 m</div>
                    </div>
                    <div class="design-result-box">
                        <div class="design-result-label">DC Resistance</div>
                        <div class="design-result-value" id="dcResistance">0.32 Ω</div>
                    </div>
                    <div class="design-result-box">
                        <div class="design-result-label">Quality Factor (Q)</div>
                        <div class="design-result-value" id="qualityFactor">45.6</div>
                    </div>
                </div>
                
                <div class="info-box">
                    <h3><i class="fas fa-info-circle"></i> Air-Core Inductor Formula</h3>
                    <p>The inductance of an air-core solenoid is calculated using:</p>
                    <div class="formula">
                        L = (μ₀ × N² × A) / l
                    </div>
                    <p>Where:</p>
                    <ul>
                        <li>L = Inductance in Henries</li>
                        <li>μ₀ = Permeability of free space (4π × 10⁻⁷ H/m)</li>
                        <li>N = Number of turns</li>
                        <li>A = Cross-sectional area of coil (m²)</li>
                        <li>l = Length of coil (m)</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <!-- Info Tab -->
        <div id="Info" class="main-tabcontent">
            <h2><i class="fas fa-info-circle"></i> Inductor Information</h2>
            
            <div class="info-box">
                <h3><i class="fas fa-table"></i> Inductor Color Code Chart</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Color</th>
                            <th>1st Digit</th>
                            <th>2nd Digit</th>
                            <th>Multiplier</th>
                            <th>Tolerance</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="background-color: black; color: white;">Black</td>
                            <td>0</td>
                            <td>0</td>
                            <td>1μH</td>
                            <td>-</td>
                        </tr>
                        <tr>
                            <td style="background-color: #966f33; color: white;">Brown</td>
                            <td>1</td>
                            <td>1</td>
                            <td>10μH</td>
                            <td>±1%</td>
                        </tr>
                        <tr>
                            <td style="background-color: red; color: white;">Red</td>
                            <td>2</td>
                            <td>2</td>
                            <td>100μH</td>
                            <td>±2%</td>
                        </tr>
                        <tr>
                            <td style="background-color: orange; color: black;">Orange</td>
                            <td>3</td>
                            <td>3</td>
                            <td>1mH</td>
                            <td>±3%</td>
                        </tr>
                        <tr>
                            <td style="background-color: yellow; color: black;">Yellow</td>
                            <td>4</td>
                            <td>4</td>
                            <td>10mH</td>
                            <td>±4%</td>
                        </tr>
                        <tr>
                            <td style="background-color: green; color: white;">Green</td>
                            <td>5</td>
                            <td>5</td>
                            <td>100mH</td>
                            <td>±0.5%</td>
                        </tr>
                        <tr>
                            <td style="background-color: blue; color: white;">Blue</td>
                            <td>6</td>
                            <td>6</td>
                            <td>1H</td>
                            <td>±0.25%</td>
                        </tr>
                        <tr>
                            <td style="background-color: violet; color: white;">Violet</td>
                            <td>7</td>
                            <td>7</td>
                            <td>10H</td>
                            <td>±0.1%</td>
                        </tr>
                        <tr>
                            <td style="background-color: gray; color: white;">Gray</td>
                            <td>8</td>
                            <td>8</td>
                            <td>100H</td>
                            <td>±0.05%</td>
                        </tr>
                        <tr>
                            <td style="background-color: white; color: black;">White</td>
                            <td>9</td>
                            <td>9</td>
                            <td>1000H</td>
                            <td>-</td>
                        </tr>
                        <tr>
                            <td style="background-color: gold; color: black;">Gold</td>
                            <td>-</td>
                            <td>-</td>
                            <td>0.1μH</td>
                            <td>±5%</td>
                        </tr>
                        <tr>
                            <td style="background-color: silver; color: black;">Silver</td>
                            <td>-</td>
                            <td>-</td>
                            <td>0.01μH</td>
                            <td>±10%</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <div class="info-box">
                <h3><i class="fas fa-microchip"></i> Common Inductor Types</h3>
                <div class="design-results">
                    <div class="design-result-box">
                        <div class="design-result-label">Air Core</div>
                        <div class="design-result-value">Low inductance, high frequency</div>
                    </div>
                    <div class="design-result-box">
                        <div class="design-result-label">Ferrite Core</div>
                        <div class="design-result-value">Medium inductance, RF applications</div>
                    </div>
                    <div class="design-result-box">
                        <div class="design-result-label">Iron Core</div>
                        <div class="design-result-value">High inductance, power applications</div>
                    </div>
                    <div class="design-result-box">
                        <div class="design-result-label">Toroidal</div>
                        <div class="design-result-value">Minimal EMI, high efficiency</div>
                    </div>
                </div>
            </div>
            
            <div class="info-box">
                <h3><i class="fas fa-exchange-alt"></i> Unit Conversions</h3>
                <ul>
                    <li>1 Henry (H) = 1,000 millihenries (mH)</li>
                    <li>1 millihenry (mH) = 1,000 microhenries (μH)</li>
                    <li>1 microhenry (μH) = 1,000 nanohenries (nH)</li>
                    <li>1 nanohenry (nH) = 1,000 picohenries (pH)</li>
                </ul>
            </div>
            
            <div class="info-box">
                <h3><i class="fas fa-history"></i> Calculation History</h3>
                <div id="history-container">
                    <div class="empty-state" id="empty-history">
                        <i class="fas fa-history"></i>
                        <p>No calculations saved yet.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Notification Area -->
    <div id="notificationArea"></div>

    <!-- Dark Mode Toggle -->
    <button class="theme-toggle" id="theme-toggle" aria-label="Toggle theme">
        <i class="fas fa-moon"></i>
    </button>

    <!-- Footer -->
    <footer>
        <div class="social-footer">
            <a href="https://www.linkedin.com/in/mohamedtarek225" target="_blank" aria-label="LinkedIn" rel="noopener noreferrer">
                <i class="fab fa-linkedin"></i>
            </a>
            <a href="https://github.com/mohamed22tarek5" target="_blank" aria-label="GitHub" rel="noopener noreferrer">
                <i class="fab fa-github"></i>
            </a>
            <a href="https://www.instagram.com/_m7md_tarek_/?igshid=YmMyMTA2M2Y%3D" target="_blank" aria-label="Instagram" rel="noopener noreferrer">
                <i class="fab fa-instagram"></i>
            </a>
            <a href="https://wa.me/+201090637406" target="_blank" aria-label="WhatsApp" rel="noopener noreferrer">
                <i class="fab fa-whatsapp"></i>
            </a>
        </div>
        <div class="footer-bottom">
            <p>&copy; <span id="current-year">2025</span> Mohamed Tarek Portfolio. All Rights Reserved.</p>
            <p>&copy; M.T.A.</p>
        </div>
    </footer>

    <script>
        // Color definitions for bands
        const colors = [
            { name: "Black", code: "#000000", value: 0, multiplier: 1 },
            { name: "Brown", code: "#966f33", value: 1, multiplier: 10 },
            { name: "Red", code: "#ff0000", value: 2, multiplier: 100 },
            { name: "Orange", code: "#ffa500", value: 3, multiplier: 1000 },
            { name: "Yellow", code: "#ffff00", value: 4, multiplier: 10000 },
            { name: "Green", code: "#008000", value: 5, multiplier: 100000 },
            { name: "Blue", code: "#0000ff", value: 6, multiplier: 1000000 },
            { name: "Violet", code: "#800080", value: 7, multiplier: 10000000 },
            { name: "Gray", code: "#808080", value: 8, multiplier: 100000000 },
            { name: "White", code: "#ffffff", value: 9, multiplier: 1000000000 },
            { name: "Gold", code: "#d4af37", value: -1, multiplier: 0.1, tolerance: "±5%" },
            { name: "Silver", code: "#c0c0c0", value: -1, multiplier: 0.01, tolerance: "±10%" }
        ];

        // Current band selections
        let bandSelections = [1, 0, 11, 10]; // Default: Brown-Black-Silver-Gold
        let bandSelections5 = [1, 0, 0, 11, 10]; // Default: Brown-Black-Black-Silver-Gold
        
        // Calculation history
        let calculationHistory = [];
        let activeBand = null;

        // Initialize on load
        document.addEventListener('DOMContentLoaded', function() {
            init();
            calculateInductance('series');
            calculateInductance('parallel');
            calculateInductorDesign();
        });

        function init() {
            loadHistory();
            updateColorCodeResult();
            updateColorCodeResult5();
            highlightActiveBand();
        }
        
        // Main tab switching
        function openMainTab(evt, tabName) {
            var i, tabcontent, tabbuttons;
            tabcontent = document.getElementsByClassName("main-tabcontent");
            for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].style.display = "none";
            }
            tabbuttons = document.getElementsByClassName("main-tab-button");
            for (i = 0; i < tabbuttons.length; i++) {
                tabbuttons[i].className = tabbuttons[i].className.replace(" active", "");
            }
            document.getElementById(tabName).style.display = "block";
            evt.currentTarget.className += " active";
        }
        
        // Color code calculator tab switching
        function switchTab(tabId) {
            document.querySelectorAll('#ColorCode .tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('#ColorCode .tab-button').forEach(button => {
                button.classList.remove('active');
            });
            
            document.getElementById(tabId).classList.add('active');
            document.querySelector(`#ColorCode button[onclick="switchTab('${tabId}')"]`).classList.add('active');
            
            // Update the display when switching tabs
            if (tabId === '4band') {
                updateColorCodeResult();
            } else if (tabId === '5band') {
                updateColorCodeResult5();
            }
        }
        
        // Series/parallel calculator tab switching
        function switchCalcTab(tabId) {
            document.querySelectorAll('#SeriesParallel .tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('#SeriesParallel .tab-button').forEach(button => {
                button.classList.remove('active');
            });
            
            document.getElementById(tabId).classList.add('active');
            document.querySelector(`#SeriesParallel button[onclick="switchCalcTab('${tabId}')"]`).classList.add('active');
        }

        // Dark/Light Mode Toggle
        const themeToggle = document.getElementById('theme-toggle');
        const themeIcon = themeToggle.querySelector('i');
        
        // Check for saved theme preference or use preferred color scheme
        const currentTheme = localStorage.getItem('theme') || 
                           (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
        
        if (currentTheme === 'dark') {
            document.body.setAttribute('data-theme', 'dark');
            themeIcon.classList.replace('fa-moon', 'fa-sun');
        } else {
            document.body.setAttribute('data-theme', 'light');
            themeIcon.classList.replace('fa-sun', 'fa-moon');
        }
        
        themeToggle.addEventListener('click', () => {
            if (document.body.getAttribute('data-theme') === 'light') {
                document.body.setAttribute('data-theme', 'dark');
                themeIcon.classList.replace('fa-moon', 'fa-sun');
                localStorage.setItem('theme', 'dark');
            } else {
                document.body.setAttribute('data-theme', 'light');
                themeIcon.classList.replace('fa-sun', 'fa-moon');
                localStorage.setItem('theme', 'light');
            }
        });

        // Show notification
        function showNotification(message, type = 'success') {
            const notificationArea = document.getElementById('notificationArea');
            const notificationId = 'notification-' + Date.now();
            
            const notification = document.createElement('div');
            notification.id = notificationId;
            notification.className = `notification ${type}`;
            notification.innerHTML = `
                <i class="fas fa-${getNotificationIcon(type)}"></i>
                <span>${message}</span>
                <button class="close-notification" onclick="document.getElementById('${notificationId}').remove()">
                    <i class="fas fa-times"></i>
                </button>
            `;
            
            notificationArea.appendChild(notification);
            
            // Show notification
            setTimeout(() => {
                notification.classList.add('show');
            }, 100);
            
            // Auto remove after 5 seconds
            setTimeout(() => {
                if (document.getElementById(notificationId)) {
                    notification.classList.remove('show');
                    setTimeout(() => {
                        if (document.getElementById(notificationId)) {
                            document.getElementById(notificationId).remove();
                        }
                    }, 500);
                }
            }, 5000);
        }
        
        function getNotificationIcon(type) {
            switch(type) {
                case 'success': return 'check-circle';
                case 'error': return 'exclamation-circle';
                case 'warning': return 'exclamation-triangle';
                default: return 'info-circle';
            }
        }

        // Highlight active band
        function highlightActiveBand() {
            document.querySelectorAll('.band').forEach(band => {
                band.classList.remove('active');
            });
            
            if (activeBand) {
                const bandElement = document.getElementById(`band${activeBand}`);
                if (bandElement) bandElement.classList.add('active');
            }
        }

        // Band selection for 4-band
        function selectBand(bandNum) {
            activeBand = bandNum;
            highlightActiveBand();
            
            const currentColor = bandSelections[bandNum-1];
            let newIndex = (currentColor + 1) % colors.length;
            
            // Skip colors that don't make sense for certain positions
            if (bandNum === 4) { // Tolerance band
                while (newIndex < 10 || colors[newIndex].tolerance === undefined) {
                    newIndex = (newIndex + 1) % colors.length;
                }
            } else { // Digit or multiplier bands
                while (newIndex >= 10) {
                    newIndex = (newIndex + 1) % colors.length;
                }
            }
            
            bandSelections[bandNum-1] = newIndex;
            document.getElementById(`band${bandNum}`).style.backgroundColor = colors[newIndex].code;
            updateColorCodeResult();
        }

        // Band selection for 5-band
        function selectBand5(bandNum) {
            activeBand = bandNum;
            highlightActiveBand();
            
            const currentColor = bandSelections5[bandNum-1];
            let newIndex = (currentColor + 1) % colors.length;
            
            // Skip colors that don't make sense for certain positions
            if (bandNum === 5) { // Tolerance band
                while (newIndex < 10 || colors[newIndex].tolerance === undefined) {
                    newIndex = (newIndex + 1) % colors.length;
                }
            } else { // Digit or multiplier bands
                while (newIndex >= 10) {
                    newIndex = (newIndex + 1) % colors.length;
                }
            }
            
            bandSelections5[bandNum-1] = newIndex;
            document.getElementById(`band${bandNum}-5`).style.backgroundColor = colors[newIndex].code;
            updateColorCodeResult5();
        }

        // Select color from legend for 4-band
        function selectColorFromLegend(colorIndex) {
            if (activeBand >= 1 && activeBand <= 4) {
                bandSelections[activeBand-1] = colorIndex;
                document.getElementById(`band${activeBand}`).style.backgroundColor = colors[colorIndex].code;
                updateColorCodeResult();
                showNotification(`Band ${activeBand} set to ${colors[colorIndex].name}`, 'success');
            }
        }

        // Select color from legend for 5-band
        function selectColorFromLegend5(colorIndex) {
            if (activeBand >= 1 && activeBand <= 5) {
                bandSelections5[activeBand-1] = colorIndex;
                document.getElementById(`band${activeBand}-5`).style.backgroundColor = colors[colorIndex].code;
                updateColorCodeResult5();
                showNotification(`Band ${activeBand} set to ${colors[colorIndex].name}`, 'success');
            }
        }

        // Update 4-band result display
        function updateColorCodeResult() {
            const digit1 = colors[bandSelections[0]].value;
            const digit2 = colors[bandSelections[1]].value;
            const multiplier = colors[bandSelections[2]].multiplier;
            const tolerance = colors[bandSelections[3]].tolerance;
            
            const inductance = (digit1 * 10 + digit2) * multiplier;
            let displayValue, unit;
            
            if (inductance >= 1000000) {
                displayValue = inductance / 1000000;
                unit = "H";
            } else if (inductance >= 1000) {
                displayValue = inductance / 1000;
                unit = "mH";
            } else {
                displayValue = inductance;
                unit = "μH";
            }
            
            const colorNames = bandSelections.map(idx => colors[idx].name).join('-');
            const resultDiv = document.getElementById("colorCodeResult");
            resultDiv.innerHTML = `
                <div>
                    <div>Inductance: ${displayValue.toFixed(2)}${unit} ${tolerance}</div>
                    <div class="result-details">Raw Value: ${inductance} μH | Color Code: ${colorNames}</div>
                </div>
                <button class="save-btn" onclick="saveCalculation('color-4band')">
                    <i class="fas fa-save"></i> Save
                </button>
            `;
        }

        // Update 5-band result display
        function updateColorCodeResult5() {
            const digit1 = colors[bandSelections5[0]].value;
            const digit2 = colors[bandSelections5[1]].value;
            const digit3 = colors[bandSelections5[2]].value;
            const multiplier = colors[bandSelections5[3]].multiplier;
            const tolerance = colors[bandSelections5[4]].tolerance;
            
            const inductance = (digit1 * 100 + digit2 * 10 + digit3) * multiplier;
            let displayValue, unit;
            
            if (inductance >= 1000000) {
                displayValue = inductance / 1000000;
                unit = "H";
            } else if (inductance >= 1000) {
                displayValue = inductance / 1000;
                unit = "mH";
            } else {
                displayValue = inductance;
                unit = "μH";
            }
            
            const colorNames = bandSelections5.map(idx => colors[idx].name).join('-');
            const resultDiv = document.getElementById("colorCodeResult5");
            resultDiv.innerHTML = `
                <div>
                    <div>Inductance: ${displayValue.toFixed(2)}${unit} ${tolerance}</div>
                    <div class="result-details">Raw Value: ${inductance} μH | Color Code: ${colorNames}</div>
                </div>
                <button class="save-btn" onclick="saveCalculation('color-5band')">
                    <i class="fas fa-save"></i> Save
                </button>
            `;
        }

        // Series/parallel calculator functions
        function addInductor(type) {
            const container = document.getElementById(type + '-inductors');
            const count = container.children.length + 1;
            
            const inductorInput = document.createElement('div');
            inductorInput.className = 'inductor-input';
            
            inductorInput.innerHTML = `
                <label>L${count}:</label>
                <input type="number" min="0" step="0.01" value="10" onchange="calculateInductance('${type}')">
                <select class="unit-selector" onchange="calculateInductance('${type}')">
                    <option value="1e-6">μH</option>
                    <option value="1e-3" selected>mH</option>
                    <option value="1">H</option>
                </select>
            `;
            
            container.appendChild(inductorInput);
            calculateInductance(type);
            showNotification(`Added inductor L${count}`, 'success');
        }
        
        function removeInductor(type) {
            const container = document.getElementById(type + '-inductors');
            if (container.children.length > 1) {
                container.removeChild(container.lastChild);
                calculateInductance(type);
                showNotification('Removed last inductor', 'warning');
            }
        }
        
        function calculateInductance(type) {
            const container = document.getElementById(type + '-inductors');
            const inputs = container.querySelectorAll('input');
            const units = container.querySelectorAll('select');
            const resultDiv = document.getElementById(type + '-result');
            
            // Get all inductor values in Henries
            const inductors = [];
            for (let i = 0; i < inputs.length; i++) {
                const value = parseFloat(inputs[i].value);
                const unit = parseFloat(units[i].value);
                
                if (isNaN(value) || value <= 0) {
                    resultDiv.innerHTML = `
                        <div style="color: var(--error-color);">
                            <i class="fas fa-exclamation-circle"></i> Error: All inductor values must be positive numbers.
                        </div>
                    `;
                    return;
                }
                
                // Convert to Henries
                inductors.push(value * unit);
            }
            
            let equivalentInductance;
            let formula = '';
            let details = '';
            
            if (type === 'series') {
                // Calculate L = L1 + L2 + ... + Ln
                equivalentInductance = 0;
                formula = 'Leq = ';
                
                for (let i = 0; i < inductors.length; i++) {
                    equivalentInductance += inductors[i];
                    formula += `L${i+1}`;
                    details += `${formatInductance(inductors[i])}`;
                    if (i < inductors.length - 1) {
                        formula += ' + ';
                        details += ' + ';
                    }
                }
                
                formula += ` = ${equivalentInductance.toExponential(6)} H`;
                details = `Calculation: Leq = ${details} = ${formatInductance(equivalentInductance)}`;
            } else {
                // Calculate 1/L = 1/L1 + 1/L2 + ... + 1/Ln
                let sum = 0;
                formula = '1/Leq = ';
                
                for (let i = 0; i < inductors.length; i++) {
                    sum += 1 / inductors[i];
                    formula += `1/L${i+1}`;
                    if (i < inductors.length - 1) {
                        formula += ' + ';
                    }
                }
                
                equivalentInductance = 1 / sum;
                formula += ` = ${sum.toFixed(6)} (H⁻¹)<br>Therefore, Leq = 1/${sum.toFixed(6)} = ${equivalentInductance.toExponential(6)} H`;
                details = `Calculation: 1/Leq = ${formula.split('=')[1].trim()}`;
            }
            
            resultDiv.innerHTML = `
                <div>
                    <div><strong>Equivalent Inductance:</strong> ${formatInductance(equivalentInductance)}</div>
                    <div class="result-details">${details}</div>
                </div>
            `;
        }
        
        // Format inductance value with appropriate unit
        function formatInductance(value) {
            if (value >= 1) {
                return value.toFixed(4) + ' H';
            } else if (value >= 1e-3) {
                return (value * 1e3).toFixed(4) + ' mH';
            } else if (value >= 1e-6) {
                return (value * 1e6).toFixed(4) + ' μH';
            } else if (value >= 1e-9) {
                return (value * 1e9).toFixed(4) + ' nH';
            } else {
                return (value * 1e12).toFixed(4) + ' pH';
            }
        }

        // Unit converter function
        function convertUnits() {
            const value = parseFloat(document.getElementById('converterValue').value);
            const fromUnit = parseFloat(document.getElementById('fromUnit').value);
            const toUnit = parseFloat(document.getElementById('toUnit').value);
            const resultDiv = document.getElementById('converter-result');
            
            if (isNaN(value) || value < 0) {
                resultDiv.innerHTML = '<p style="color: var(--error-color);">Error: Please enter a valid positive number.</p>';
                showNotification('Please enter a valid value!', 'error');
                return;
            }
            
            // Convert to base unit (Henries) first
            const valueInHenries = value * fromUnit;
            
            // Convert to target unit
            const convertedValue = valueInHenries / toUnit;
            
            // Get unit names for display
            const fromUnitName = document.getElementById('fromUnit').options[document.getElementById('fromUnit').selectedIndex].text;
            const toUnitName = document.getElementById('toUnit').options[document.getElementById('toUnit').selectedIndex].text;
            
            resultDiv.innerHTML = `
                <p><strong>Conversion Result:</strong></p>
                <p>${value} ${fromUnitName} = ${convertedValue.toFixed(6)} ${toUnitName}</p>
                <p><small>In Scientific Notation: ${convertedValue.toExponential(6)} ${toUnitName.split(' ')[0]}</small></p>
            `;
            
            showNotification('Conversion completed successfully!', 'success');
        }
        
        // Inductor design calculator
        function calculateInductorDesign() {
            const wireDiameter = parseFloat(document.getElementById('wireDiameter').value) / 1000; // Convert to meters
            const coilDiameter = parseFloat(document.getElementById('coilDiameter').value) / 1000; // Convert to meters
            const numberTurns = parseInt(document.getElementById('numberTurns').value);
            const coilLength = parseFloat(document.getElementById('coilLength').value) / 1000; // Convert to meters
            
            if (isNaN(wireDiameter) || isNaN(coilDiameter) || isNaN(numberTurns) || isNaN(coilLength) ||
                wireDiameter <= 0 || coilDiameter <= 0 || numberTurns <= 0 || coilLength <= 0) {
                showNotification('Please enter valid design parameters!', 'error');
                return;
            }
            
            // Constants
            const mu0 = 4 * Math.PI * 1e-7; // Permeability of free space
            const copperResistivity = 1.68e-8; // Ω·m at 20°C
            
            // Calculate inductance using solenoid formula
            const area = Math.PI * Math.pow(coilDiameter / 2, 2);
            const inductance = (mu0 * Math.pow(numberTurns, 2) * area) / coilLength;
            
            // Calculate wire length
            const wireLength = numberTurns * Math.PI * coilDiameter;
            
            // Calculate DC resistance
            const wireArea = Math.PI * Math.pow(wireDiameter / 2, 2);
            const dcResistance = (copperResistivity * wireLength) / wireArea;
            
            // Calculate quality factor (estimated at 1 MHz)
            const frequency = 1e6; // 1 MHz
            const inductiveReactance = 2 * Math.PI * frequency * inductance;
            const qualityFactor = inductiveReactance / dcResistance;
            
            // Update display
            document.getElementById('calculatedInductance').textContent = formatInductance(inductance);
            document.getElementById('wireLength').textContent = wireLength.toFixed(2) + ' m';
            document.getElementById('dcResistance').textContent = dcResistance.toFixed(2) + ' Ω';
            document.getElementById('qualityFactor').textContent = qualityFactor.toFixed(1);
        }
        
        // Save calculation to history
        function saveCalculation(type) {
            let calculation = {
                id: Date.now(),
                type: type,
                timestamp: new Date().toLocaleString(),
                details: ''
            };
            
            if (type.includes('color')) {
                if (type === 'color-4band') {
                    const inductance = document.getElementById('colorCodeResult').innerText.split('Inductance: ')[1].split(' ')[0];
                    calculation.details = `4-Band: ${inductance}`;
                } else if (type === 'color-5band') {
                    const inductance = document.getElementById('colorCodeResult5').innerText.split('Inductance: ')[1].split(' ')[0];
                    calculation.details = `5-Band: ${inductance}`;
                }
            } else if (type === 'series' || type === 'parallel') {
                const resultDiv = document.getElementById(`${type}-result`);
                const resultText = resultDiv.querySelector('div > div').textContent;
                calculation.details = `${type.charAt(0).toUpperCase() + type.slice(1)}: ${resultText}`;
            } else if (type === 'converter') {
                const resultDiv = document.getElementById('converter-result');
                calculation.details = `Converter: ${resultDiv.querySelector('p:nth-child(2)').textContent}`;
            } else if (type === 'design') {
                const inductance = document.getElementById('calculatedInductance').textContent;
                calculation.details = `Design: ${inductance}`;
            }
            
            calculationHistory.unshift(calculation);
            
            // Keep only last 10 calculations
            if (calculationHistory.length > 10) {
                calculationHistory = calculationHistory.slice(0, 10);
            }
            
            localStorage.setItem('inductorCalculationHistory', JSON.stringify(calculationHistory));
            updateHistoryDisplay();
            showNotification('Calculation saved to history!', 'success');
        }
        
        // Load history from localStorage
        function loadHistory() {
            const savedHistory = localStorage.getItem('inductorCalculationHistory');
            if (savedHistory) {
                calculationHistory = JSON.parse(savedHistory);
                updateHistoryDisplay();
            }
        }
        
        // Update history display
        function updateHistoryDisplay() {
            const historyContainer = document.getElementById('history-container');
            const emptyHistory = document.getElementById('empty-history');
            
            if (calculationHistory.length === 0) {
                if (emptyHistory) emptyHistory.style.display = 'block';
                return;
            }
            
            if (emptyHistory) emptyHistory.style.display = 'none';
            
            historyContainer.innerHTML = '';
            
            calculationHistory.forEach(calc => {
                const historyItem = document.createElement('div');
                historyItem.className = 'history-item';
                
                const icon = getHistoryIcon(calc.type);
                const typeName = getTypeName(calc.type);
                
                historyItem.innerHTML = `
                    <div>
                        <i class="${icon}"></i> ${typeName}
                        <div class="history-details">${calc.details}</div>
                    </div>
                    <div style="font-size: 0.8em; color: var(--text-muted);">
                        ${calc.timestamp}
                    </div>
                `;
                
                historyContainer.appendChild(historyItem);
            });
        }
        
        function getHistoryIcon(type) {
            if (type.includes('color')) return 'fas fa-palette';
            if (type === 'series') return 'fas fa-arrow-right';
            if (type === 'parallel') return 'fas fa-arrows-alt-h';
            if (type === 'converter') return 'fas fa-exchange-alt';
            if (type === 'design') return 'fas fa-cogs';
            return 'fas fa-calculator';
        }
        
        function getTypeName(type) {
            if (type === 'color-4band') return '4-Band Color Code';
            if (type === 'color-5band') return '5-Band Color Code';
            if (type === 'series') return 'Series Calculation';
            if (type === 'parallel') return 'Parallel Calculation';
            if (type === 'converter') return 'Unit Converter';
            if (type === 'design') return 'Inductor Design';
            return 'Calculation';
        }
        
        // Set current year in footer
        document.getElementById('current-year').textContent = new Date().getFullYear();
    </script>
</body>
</html>